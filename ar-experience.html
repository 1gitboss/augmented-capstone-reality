<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

  <script>
    AFRAME.registerComponent('artwork-info', {
      init: function () {
        this.el.addEventListener('loaded', () => { 
          console.log("A-Frame Loaded!");

          // Get elements
          const infoPanel = document.querySelector("#info-box-1");
          const igButton = document.querySelector("#ig-link");
          const webButton = document.querySelector("#web-link");

          if (!infoPanel || !igButton || !webButton) {
            console.error("One or more elements are missing.");
            return;
          }

          // Make sure objects are interactive
          igButton.classList.add("clickable");
          webButton.classList.add("clickable");
          // infoButton.classList.add("clickable");
          // closeButton.classList.add("clickable");

          // Show info panel when button is clicked
          

      
        });
      }
    });

    AFRAME.registerComponent('mytarget', {
      init: function () {
        this.el.addEventListener('targetFound', () => {
          console.log("Artwork detected!");
          
        });

        this.el.addEventListener('targetLost', () => {
          console.log("Artwork lost!");
         
          
        });
      }
    });
  </script>

</head>

<body>
  <a-scene
    mindar-image="imageTargetSrc:https://cdn.glitch.global/9b643d33-8eab-444c-bfc4-185db20906b5/9.-img-targets.mind?v=1739209316462; 
    filterMinCF: 0.5; 
    filterBeta: 10; 
    missTolerance: 5; 
    warmupTolerance: 5"
    vr-mode-ui="enabled: false"
    color-space="sRGB"
    renderer="colorManagement: true, physicallyCorrectLights"
    device-orientation-permission-ui="enabled: false"
  >

    <!-- Add Cursor for Clicking -->
    <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;" 
              raycaster="far: 10000; objects: .clickable">
    </a-camera>

    <!-- Target Image -->
    <a-entity mindar-image-target="targetIndex: 2" mytarget>
 

      <!-- Info Panel -->
      <a-entity id="info-box-1" position="0 1 0" visible="true">
        
        <a-plane width="1.1" height="auto" color="black" opacity="0.8"></a-plane>
       
        <a-text value="Title: Wade in Water\n
                       Artist: Nana Asomani\n
                       Significance: Wade in Water explores the relationship between water and human 
                       existence. Since time immemorial, water has played a vital role 
                       in the formation of civilization and trade."
                position="-0.8 0 0" align="left" font="font: Verdana" color="white" width="1">
        </a-text>
          
    
      </a-entity>
      
      <a-entity>
        <a-image id="ig-link" class="clickable" 
                 src="https://cdn.glitch.global/9b643d33-8eab-444c-bfc4-185db20906b5/IG%20.png?v=1740499993566"
                 alpha-test="0.5" position="0 -0.8 0" height="0.15" width="0.15">
                </a-image>
        
        <a-image id="web-link" class="clickable" 
                 src="https://cdn.glitch.global/9b643d33-8eab-444c-bfc4-185db20906b5/web.png?v=1740499991549"
                 alpha-test="0.5" position="0 -0.8 0" height="0.15" width="0.15">
                </a-image>
      </a-entity>
      

    </a-entity>

  </a-scene>

</body>
</html>
