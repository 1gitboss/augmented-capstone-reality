<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

  <script>
    AFRAME.registerComponent('show-info', {
      init: function () {
        this.el.addEventListener('targetFound', () => {
          console.log("Artwork detected!");
          document.querySelector("#info-box").setAttribute("visible", "true");
        });

        this.el.addEventListener('targetLost', () => {
          console.log("Artwork lost!");
          document.querySelector("#info-box").setAttribute("visible", "false");
        });
      }
    });
  </script>

</head>

<body>
  <a-scene
    mindar-image="imageTargetSrc:https://cdn.glitch.global/9b643d33-8eab-444c-bfc4-185db20906b5/9.-img-targets.mind?v=1739209316462; 
    filterMinCF: 0.5; 
    filterBeta: 10; 
    missTolerance: 5; 
    warmupTolerance: 5"
    vr-mode-ui="enabled: false"
    color-space="sRGB"
    renderer="colorManagement: true, physicallyCorrectLights"
    device-orientation-permission-ui="enabled: false"
  >

    <!-- Add Cursor for Clicking (for future improvements) -->
     <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;" raycaster="far: 10000; objects: .clickable">
        </a-camera>

    <!-- Artwork Target -->
    <a-entity mindar-image-target="targetIndex: 2" show-info>

      <!-- Info Box (Visible Automatically on Target Detection) -->
      <a-entity id="info-box" position="-0.8 0 0" visible="false">
        <a-plane width="1" height="1" color="black" opacity="0.8"></a-plane>
        
        <!-- Artwork Details -->
        <a-text value="Title: The Journey\n
                       Artist: Kwame Asante\n
                      Meaning: A story of resilience and culture."
                position="0 0 0.1" align="center" color="white" width="1.3"></a-text>

        <!-- Social Media & Website Links -->
        
        
      </a-entity>
      
        <a-entity>
        <a-image visible=false id="profile-button" class="clickable" src="#icon-profile" position="-0.42 -0.5 0" height="0.15" width="0.15"
            animation="property: scale; to: 1.2 1.2 1.2; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
          ></a-image>
        <a-text value="Instagram: @kwameasanteart" position="0 -0.5 0.1" align="center" color="lightblue"
                width="1.2" link="href: https://instagram.com/kwameasanteart; target: _blank"></a-text>
        
        <a-text value="Website: kwameasanteart.com" position="0 -0.7 0.1" align="center" color="lightgreen"
                width="1.2" link="href: https://kwameasanteart.com; target: _blank"></a-text>

      </a-entity>

    </a-entity>

  </a-scene>
</body>
</html>
